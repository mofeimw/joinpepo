<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pepo Roadmap</title>
  <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body class="roadmap-page" id="roadmap">

  <!-- Top Navigation -->
  <div class="top-bar">
    <div class="nav-icon">
      <img src="/static/images/globe.png" alt="Home" onclick="window.location.href='/'" style="cursor: pointer" />
      <span class="heading-home">HOME SCREEN</span>
    </div>
    <div class="gift-icon">
      <img src="/static/images/gift-icon.png" alt="Gift" />
    </div>
  </div>

  <div class="game-container">

        <div class="roadmap">
            <!-- Present at top - clickable only when all levels completed -->
            % all_completed = len(progress["completed_levels"]) == 4
            % if all_completed:
            <div class="present unlocked" onclick="window.location.href='/result/{{curriculum}}'"><img src="/static/images/robux.png"></div>
            % else:
                <div class="present locked"><img src="/static/images/robux.png"></div>
            % end

            <!-- Staggered levels -->
            % levels = list(range(5, 0, -1))
            % for level in levels:
                % is_unlocked = level == 1 or level-1 in progress["completed_levels"]
                % is_completed = level in progress["completed_levels"]
                % if is_completed:
                <div class="level completed" id="level{{level}}" onclick="window.location.href='/{{curriculum}}/lesson/{{level}}/1'"><img src="/static/images/level-done.png">{{level}}</div>
                % elif is_unlocked:
                    <div class="level" id="level{{level}}" onclick="window.location.href='/{{curriculum}}/lesson/{{level}}/1'"><img src="/static/images/level-current.png"></div>
                % else:
                    <div class="level locked" id="level{{level}}"><img src="/static/images/level-locked.png"></div>
                % end
            % end
        </div>
    </div>

    <script src="/static/js/script.js"></script>
</body>
</html>
